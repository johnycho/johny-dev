"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[7638],{2317:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"spring-framework/spring-test-isolation","title":"\ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)","description":"\u2714\ufe0f \ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)","source":"@site/docs/spring-framework/spring-test-isolation.md","sourceDirName":"spring-framework","slug":"/spring-framework/spring-test-isolation","permalink":"/docs/spring-framework/spring-test-isolation","draft":false,"unlisted":false,"tags":[{"inline":false,"label":"Spring","permalink":"/docs/tags/spring","description":"Spring Framework tag description"}],"version":"current","frontMatter":{"slug":"spring-test-isolation","title":"\ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)","tags":["spring"]},"sidebar":"johnyDocsSidebar","previous":{"title":"@ResponseBody\uc640 ResponseEntity<T>","permalink":"/docs/spring-framework/spring-response-annotation"},"next":{"title":"Spring \ud2b8\ub79c\uc7ad\uc158 \uc804\ud30c (Transaction Propagation)","permalink":"/docs/spring-framework/spring-transaction-propagation"}}');var r=s(4848),t=s(8453);const o={slug:"spring-test-isolation",title:"\ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)",tags:["spring"]},l=void 0,c={},d=[{value:"\u2714\ufe0f \ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)",id:"\ufe0f-\ud14c\uc2a4\ud2b8-\uaca9\ub9ac-test-isolation",level:2},{value:"\u2714\ufe0f Spring\uc5d0\uc11c \uac19\uc740 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub294 \ud14c\uc2a4\ud2b8\ub294 \uc5b4\ub5bb\uac8c \uaca9\ub9ac\ud560 \uc218 \uc788\uc744\uae4c?",id:"\ufe0f-spring\uc5d0\uc11c-\uac19\uc740-\ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c-\uc0ac\uc6a9\ud558\ub294-\ud14c\uc2a4\ud2b8\ub294-\uc5b4\ub5bb\uac8c-\uaca9\ub9ac\ud560-\uc218-\uc788\uc744\uae4c",level:2},{value:"<code>@DirtiesContext</code> \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9",id:"dirtiescontext-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",level:3},{value:"<code>@Sql</code> \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9",id:"sql-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",level:3},{value:"<code>@Transactional</code> \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9",id:"transactional-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",level:3}];function a(n){const e={blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"\ufe0f-\ud14c\uc2a4\ud2b8-\uaca9\ub9ac-test-isolation",children:"\u2714\ufe0f \ud14c\uc2a4\ud2b8 \uaca9\ub9ac (Test Isolation)"}),"\n",(0,r.jsx)(e.p,{children:"\uac01 \ud14c\uc2a4\ud2b8\uac00 \uc11c\ub85c \ub3c5\ub9bd\uc801\uc73c\ub85c \uc2e4\ud589\ub418\ub3c4\ub85d \ubcf4\uc7a5\ud558\ub294 \uac83\uc744 \ub9d0\ud569\ub2c8\ub2e4. \uc989, \uc5b4\ub5a4 \ud14c\uc2a4\ud2b8\uac00 \uc2e4\ud589\ub418\ub354\ub77c\ub3c4 \ub2e4\ub978 \ud14c\uc2a4\ud2b8\uc758 \uacb0\uacfc\ub098 \uc0c1\ud0dc\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uac70\ub098 \ubc1b\uc9c0 \uc54a\uc544\uc57c \ud55c\ub2e4\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud14c\uc2a4\ud2b8 \uaca9\ub9ac"}),"\uac00 \uc911\uc694\ud55c \uc774\uc720\ub294 \uaca9\ub9ac\uac00 \uc81c\ub300\ub85c \uc774\ub8e8\uc5b4\uc9c0\uc9c0 \uc54a\uc73c\uba74 ",(0,r.jsxs)("mark",{children:[(0,r.jsx)(e.code,{children:"\ube44\uacb0\uc815\uc801 \ud14c\uc2a4\ud2b8"}),"\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uae30 \ub54c\ubb38"]}),"\uc785\ub2c8\ub2e4. ",(0,r.jsx)(e.code,{children:"\ube44\uacb0\uc815\uc801(Non-deterministic) \ud14c\uc2a4\ud2b8"}),"\ub294 ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\uac19\uc740 \ud14c\uc2a4\ud2b8\ub97c \uc5ec\ub7ec \ubc88 \uc2e4\ud589\ud588\uc744 \ub54c \ud56d\uc0c1 \uac19\uc740 \uacb0\uacfc\ub97c \ub0b4\uc9c0 \uc54a\ub294 \ud14c\uc2a4\ud2b8"})}),"\ub97c \ub9d0\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ud14c\uc2a4\ud2b8\uac00 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc640 \uac19\uc740 \uacf5\uc720 \uc790\uc6d0\uc5d0 \uc758\uc874\ud560 \uacbd\uc6b0 \uc2e4\ud589 \uc21c\uc11c\ub098 \ub2e4\ub978 \ud14c\uc2a4\ud2b8\uc758 \uc2e4\ud589 \uc5ec\ubd80\uc5d0 \ub530\ub77c \uc131\uacf5 \ub610\ub294 \uc2e4\ud328 \uacb0\uacfc\uac00 \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,r.jsx)(e.code,{children:"\ube44\uacb0\uc815\uc801 \ud14c\uc2a4\ud2b8"}),"\ub294 \uc2e4\ud328\ud588\uc744 \ub54c \uc2e4\uc81c \ucf54\ub4dc\uc758 \ubb38\uc81c\uc778\uc9c0, \ube44\uacb0\uc815\uc801 \uc694\uc778 \ub54c\ubb38\uc778\uc9c0 \ud310\ub2e8\ud558\uae30 \uc5b4\ub824\uc6cc\uc9d1\ub2c8\ub2e4. \ub530\ub77c\uc11c \ud14c\uc2a4\ud2b8\uac00 \ud56d\uc0c1 \ub3d9\uc77c\ud55c \uc870\uac74\uc5d0\uc11c \uc608\uce21 \uac00\ub2a5\ud55c \uacb0\uacfc\ub97c \ub0bc \uc218 \uc788\ub3c4\ub85d \uaca9\ub9ac\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(e.h2,{id:"\ufe0f-spring\uc5d0\uc11c-\uac19\uc740-\ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c-\uc0ac\uc6a9\ud558\ub294-\ud14c\uc2a4\ud2b8\ub294-\uc5b4\ub5bb\uac8c-\uaca9\ub9ac\ud560-\uc218-\uc788\uc744\uae4c",children:"\u2714\ufe0f Spring\uc5d0\uc11c \uac19\uc740 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub294 \ud14c\uc2a4\ud2b8\ub294 \uc5b4\ub5bb\uac8c \uaca9\ub9ac\ud560 \uc218 \uc788\uc744\uae4c?"}),"\n",(0,r.jsxs)(e.h3,{id:"dirtiescontext-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",children:[(0,r.jsx)(e.code,{children:"@DirtiesContext"})," \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9"]}),"\n",(0,r.jsxs)(e.p,{children:["Spring\uc758 \ud14c\uc2a4\ud2b8 \ucee8\ud14d\uc2a4\ud2b8\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uce90\uc2f1\ud574\uc11c \uac01\uac01\uc758 \ud14c\uc2a4\ud2b8\uc5d0\uc11c \uc7ac\uc0ac\uc6a9\ud569\ub2c8\ub2e4. ",(0,r.jsx)(e.code,{children:"@DirtiesContext"})," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uc0ac\uc6a9\ud558\uba74 ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\ud14c\uc2a4\ud2b8\ub9c8\ub2e4 \uc0c8\ub85c\uc6b4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucee8\ud14d\uc2a4\ud2b8\ub97c \ub85c\ub4dc\ud558\uc5ec \uc644\uc804\ud55c \uaca9\ub9ac\ub97c \ubcf4\uc7a5"})}),"\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucee8\ud14d\uc2a4\ud2b8\ub97c \ub9e4\ubc88 \uc0c8\ub85c \ub85c\ub4dc\ud558\ub294 \uac83\uc740 \ube44\uc6a9\uc774 \ud06c\uace0 \uc2dc\uac04\uc774 \uc624\ub798 \uac78\ub9ac\ub294 \uc791\uc5c5\uc774\uae30 \ub54c\ubb38\uc5d0 \uc131\ub2a5\uc774 \uc800\ud558\ub41c\ub2e4\ub294 \ub2e8\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:"@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_EACH_TEST_METHOD)\n@SpringBootTest\nclass MyIntegrationTest {\n    // ...\n}\n"})}),"\n",(0,r.jsxs)(e.h3,{id:"sql-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",children:[(0,r.jsx)(e.code,{children:"@Sql"})," \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"@Sql"})," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uc0ac\uc6a9\ud558\uba74 \ud14c\uc2a4\ud2b8 \uc2e4\ud589 \uc804 \ub610\ub294 \ud6c4\uc5d0 \ud2b9\uc815 ",(0,r.jsx)(e.code,{children:"SQL"})," \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub54c ",(0,r.jsx)(e.code,{children:"TRUNCATE"})," DDL\uc744 \uc0ac\uc6a9\ud558\uc5ec \ud14c\uc774\ube14 \uc790\uccb4\ub97c \ube44\uc6c0\uc73c\ub85c\uc368 \ud14c\uc2a4\ud2b8 \uac04 \ub3c5\ub9bd\ub41c \ud14c\uc774\ube14\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \ud14c\uc774\ube14\uc774 \ucd94\uac00\ub420 \ub54c\ub9c8\ub2e4 ",(0,r.jsx)(e.code,{children:"SQL"})," \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc218\uc815\ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \uc720\uc9c0\ubcf4\uc218 \ube44\uc6a9\uc774 \ubc1c\uc0dd\ud55c\ub2e4\ub294 \ub2e8\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-java",children:'@Sql("/truncate.sql")\n@SpringBootTest\nclass MyIntegrationTest {\n    // ...\n}\n'})}),"\n",(0,r.jsxs)(e.h3,{id:"transactional-\uc5b4\ub178\ud14c\uc774\uc158-\uc0ac\uc6a9",children:[(0,r.jsx)(e.code,{children:"@Transactional"})," \uc5b4\ub178\ud14c\uc774\uc158 \uc0ac\uc6a9"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"@Transactional"})," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uc0ac\uc6a9\ud558\uba74 \ud14c\uc2a4\ud2b8\uac00 \uc2e4\ud589\ub41c \ud6c4 \ud2b8\ub79c\uc7ad\uc158\uc744 \ub864\ubc31\ud558\uc5ec \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc0c1\ud0dc\ub97c \uc6d0\ub798\ub300\ub85c \uc720\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud560 \ub54c\ub294 \uba87 \uac00\uc9c0 \uc8fc\uc758\ud560 \uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\uc758\ub3c4\uce58 \uc54a\uc740 \ud2b8\ub79c\uc7ad\uc158 \uc801\uc6a9\uc73c\ub85c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uacfc \ub2e4\ub978 \uc870\uac74\uc5d0\uc11c \ud14c\uc2a4\ud2b8\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, ",(0,r.jsx)(e.code,{children:"OSIV"}),"\ub97c \uaebc\ub450\uace0 ",(0,r.jsx)(e.code,{children:"@Transactional"}),"\ub3c4 \uc5c6\ub294 \uc0c1\ud0dc\uc5d0\uc11c \uc9c0\uc5f0\ub85c\ub529\ub41c \uc5d4\ud2f0\ud2f0\ub97c \uc870\ud68c\ud558\uba74 ",(0,r.jsx)(e.code,{children:"LazyInitializationException"}),"\uc774 \ubc1c\uc0dd\ud558\uc9c0\ub9cc, ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\ud14c\uc2a4\ud2b8\uc5d0\uc11c\ub294 \ud2b8\ub79c\uc7ad\uc158\uc774 \uc5f4\ub824 \uc788\uc5b4\uc11c \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})})," \ub530\ub77c\uc11c \uc2e4\uc81c\ub85c\ub294 \uc2e4\ud328\ud560 \ucf54\ub4dc\uac00 \ud14c\uc2a4\ud2b8\uc5d0\uc11c\ub294 \uc131\uacf5\ud558\ub294 \uac70\uc9d3 \uc74c\uc131\uc774 \ub098\ud0c0\ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\uac70\uc9d3 \uc591\uc131(False Positive): \ud504\ub85c\ub355\uc158 \ucf54\ub4dc\ub294 \uc815\uc0c1 \ub3d9\uc791\ud558\uc9c0\ub9cc \ud14c\uc2a4\ud2b8\ub294 \uc2e4\ud328",(0,r.jsx)(e.br,{}),"\n","\uac70\uc9d3 \uc74c\uc131(False Negative): \ud504\ub85c\ub355\uc158 \ucf54\ub4dc\ub294 \uc2e4\ud328\ud558\uc9c0\ub9cc \ud14c\uc2a4\ud2b8\ub294 \ud1b5\uacfc"]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"@SpringBootTest"}),"\uc758 ",(0,r.jsx)(e.code,{children:"WebEnvironment"}),"\uac00 ",(0,r.jsx)(e.code,{children:"DEFINE_PORT"})," \ub610\ub294 ",(0,r.jsx)(e.code,{children:"RANDOM_PORT"}),"\uc77c \uacbd\uc6b0, ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\ubcc4\ub3c4\uc758 \uc2a4\ub808\ub4dc\uc5d0\uc11c \uc11c\ube14\ub9bf \ucee8\ud14c\uc774\ub108\uac00 \uc2e4\ud589"})}),"\ub418\uae30 \ub54c\ubb38\uc5d0 \ud14c\uc2a4\ud2b8\uc758 \ud2b8\ub79c\uc7ad\uc158 \ub864\ubc31\uc774 \uc801\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(e.li,{children:["\ud504\ub85c\ub355\uc158 \ucf54\ub4dc\uc758 \ud2b8\ub79c\uc7ad\uc158 \uc804\ud30c \ub808\ubca8\uc744 ",(0,r.jsx)(e.code,{children:"REQUIRES_NEW"}),"\ub85c \uc124\uc815\ud588\uc744 \uacbd\uc6b0 ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\uc0c8\ub85c\uc6b4 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc0dd\uc131"})}),"\ud558\uae30 \ub54c\ubb38\uc5d0 \ud14c\uc2a4\ud2b8 \ud2b8\ub79c\uc7ad\uc158\uacfc \ubb34\uad00\ud558\uc5ec \ub864\ubc31\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n",(0,r.jsxs)(e.li,{children:["\ube44\ub3d9\uae30 \uba54\uc11c\ub4dc\ub294 ",(0,r.jsx)("mark",{children:(0,r.jsx)(e.strong,{children:"\uc0c8\ub85c\uc6b4 \uc2a4\ub808\ub4dc\uc5d0\uc11c \uc2e4\ud589"})}),"\ub418\uae30 \ub54c\ubb38\uc5d0 \ub864\ubc31\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>o,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function o(n){const e=i.useContext(t);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);