"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[5237],{2313:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var r=i(1502),s=i(4848),l=i(8453);const o={slug:"redis-distributed-lock",title:"Redis Spin Lock\uc5d0\uc11c Redisson \uae30\ubc18 \ubd84\uc0b0\ub77d\uc73c\ub85c \uac1c\uc120\ud558\uae30",authors:["johnycho"],tags:["redis"]},c=void 0,t={authorsImageUrls:[void 0]},d=[{value:"\uae30\uc874 Spin Lock \uad6c\uc870",id:"\uae30\uc874-spin-lock-\uad6c\uc870",level:2},{value:"\uae30\uc874 Spin Lock \uad6c\uc870\uc758 \ubb38\uc81c\uc810",id:"\uae30\uc874-spin-lock-\uad6c\uc870\uc758-\ubb38\uc81c\uc810",level:3},{value:"<code>Redisson</code> \uae30\ubc18 \ubd84\uc0b0\ub77d\uc73c\ub85c \uac1c\uc120\ud558\uae30",id:"redisson-\uae30\ubc18-\ubd84\uc0b0\ub77d\uc73c\ub85c-\uac1c\uc120\ud558\uae30",level:2},{value:"\ucd5c\uc885 \uac1c\uc120 \ucf54\ub4dc",id:"\ucd5c\uc885-\uac1c\uc120-\ucf54\ub4dc",level:3},{value:"\uac1c\uc120 \uacb0\uacfc",id:"\uac1c\uc120-\uacb0\uacfc",level:3},{value:"\ub9c8\uce58\uba70",id:"\ub9c8\uce58\uba70",level:2}];function a(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(n.p,{children:["\uc774\ubc88 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 Redis \uae30\ubc18\uc758 Spin Lock(",(0,s.jsx)(n.code,{children:"SETNX"})," + while-loop) \uad6c\uc870\ub97c ",(0,s.jsx)(n.code,{children:"Redisson"})," \uae30\ubc18\uc758 ",(0,s.jsx)(n.code,{children:"Reentrant Distributed Lock"}),"\uc73c\ub85c \uc804\ud658\ud588\ub358 \uacbd\ud5d8\uc744 \uacf5\uc720\ud558\uace0\uc790 \ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h2,{id:"\uae30\uc874-spin-lock-\uad6c\uc870",children:"\uae30\uc874 Spin Lock \uad6c\uc870"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'public <T> T executeInSpinLock(String lockKey, Supplier<T> supplier) {\n    while (Boolean.FALSE.equals(acquireLock(lockKey))) {\n      log.info("sleep to acquire distributed lock (lock key = {})", lockKey);\n      ThreadUtil.sleep(100, TimeUnit.MILLISECONDS);\n    }\n\n    try {\n      return supplier.get();\n    } catch (Exception e) {\n      errorNotifier.sendErrorMessage("error occurs in executing task in lock", e);\n      throw e;\n    } finally {\n      eventPublisher.publishEvent(RedisUnlockEvent.of(lockKey));\n    }\n  }\n\n@TransactionalEventListener(phase = TransactionPhase.AFTER_COMPLETION, fallbackExecution = true)\npublic void releaseLock(RedisUnlockEvent event) {\n  if (lockContextHolder.isEmpty()) {\n    return;\n  }\n\n  retry(() -> {\n    final Boolean releaseDistributedLock = redisTemplate.delete(event.getLockKey());\n    if (Boolean.TRUE.equals(releaseDistributedLock)) {\n      lockContextHolder.clear();\n    }\n    return null;\n  });\n}\n\nprivate Boolean acquireLock(String lockKey) {\n  if (lockContextHolder.hasAlreadyAcquireDistributedLock(lockKey)) {\n    log.info("accessing the critical section within the same thread. (lock key = {})", lockKey);\n    return true;\n  }\n\n  return retry(() -> {\n    final Boolean acquireDistributedLock = redisTemplate.opsForValue().setIfAbsent(lockKey, StringUtils.EMPTY, Duration.ofMinutes(1));\n    if (Boolean.TRUE.equals(acquireDistributedLock)) {\n      lockContextHolder.setValue(lockKey);\n    }\n    return acquireDistributedLock;\n  });\n}\n\nprivate <T> T retry(Supplier<T> supplier) {\n  try {\n    return retryTemplate.execute(context -> supplier.get());\n  } catch (Exception e) {\n    errorNotifier.sendErrorMessage("fail in retry", e);\n    throw e;\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\uae30\uc874 \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \ubd84\uc0b0\ub77d\uc744 \uad6c\ud604\ud558\uace0 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Redis ",(0,s.jsx)(n.code,{children:"SETNX"}),"(setIfAbsent) \u2192 \ub77d \ud68d\ub4dd"]}),"\n",(0,s.jsxs)(n.li,{children:["\ub77d\uc744 \uc5bb\uc744 \ub54c\uae4c\uc9c0 ",(0,s.jsx)(n.code,{children:"while(false)"}),"\ub85c \ubc18\ubcf5 (100ms sleep)"]}),"\n",(0,s.jsx)(n.li,{children:"\ub77d\uc744 \ud68d\ub4dd\ud558\uba74 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc218\ud589"}),"\n",(0,s.jsxs)(n.li,{children:["\ud2b8\ub79c\uc7ad\uc158\uc774 \ub05d\ub09c \ub4a4(",(0,s.jsx)(n.code,{children:"AFTER_COMPLETION"}),") \uc774\ubca4\ud2b8 \uae30\ubc18\uc73c\ub85c \ub77d \ud574\uc81c"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\uc5ec\uae30\uc11c \ubb38\uc81c\uac00 \ub418\ub294 \ud575\uc2ec \uad6c\ud604\uc740 \uc544\ub798 \ubd80\ubd84\uc785\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'while (Boolean.FALSE.equals(acquireLock(lockKey))) {\n    log.info("sleep to acquire distributed lock (lock key = {})", lockKey);\n    ThreadUtil.sleep(100, TimeUnit.MILLISECONDS);\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\ub77d\uc744 \ud68d\ub4dd\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ub0b4\ubd80\uc801\uc73c\ub85c Redis\uc5d0 \ub2e4\uc74c\uacfc \uac19\uc740 \ucee4\ub9e8\ub4dc\ub97c \uacc4\uc18d \ub0a0\ub9bd\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-redis",children:"SET key value NX EX 60\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\ub77d\uc774 \uc774\ubbf8 \uc788\ub2e4\uba74 \u2192 \uc2e4\ud328 \u2192 sleep \u2192 \ub2e4\uc2dc ",(0,s.jsx)(n.code,{children:"SETNX"}),(0,s.jsx)(n.br,{}),"\n","\uc774 \uacfc\uc815\uc774 \ub77d\uc744 \uc5bb\uc744 \ub54c\uae4c\uc9c0 \ubb34\ud55c \ubc18\ubcf5\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"\uae30\uc874-spin-lock-\uad6c\uc870\uc758-\ubb38\uc81c\uc810",children:"\uae30\uc874 Spin Lock \uad6c\uc870\uc758 \ubb38\uc81c\uc810"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Redis \ubd80\ud558 \uc99d\uac00 (Polling \uae30\ubc18 \uad6c\uc870)",(0,s.jsx)(n.br,{}),"\n","\uc2a4\ub808\ub4dc\uac00 \uc7a0\ub4e4\uc5c8\ub2e4 \uae68\uba70 \ub9e4 100ms\ub9c8\ub2e4 ",(0,s.jsx)(n.code,{children:"SETNX"}),"\ub97c \ud638\ucd9c\ud568",(0,s.jsx)(n.br,{}),"\n","\ud2b9\ud788 \ub77d\uc774 \uc624\ub798 \uc720\uc9c0\ub418\uba74, Redis\ub294 ",(0,s.jsx)("mark",{children:"\ubd88\ud544\uc694\ud55c \ud2b8\ub798\ud53d\uc744 \uacc4\uc18d \ubc1b\uc74c"})]}),"\n",(0,s.jsxs)(n.li,{children:["Spin Lock\uc740 ",(0,s.jsx)("mark",{children:"CPU \ud6a8\uc728\uc774 \uc88b\uc9c0 \uc54a\uc74c"}),(0,s.jsx)(n.br,{}),"\n","100ms sleep\uc744 \ud574\ub3c4 \uacb0\uad6d \ud3f4\ub9c1 \uae30\ubc18\uc774\ub77c, \ubd88\ud544\uc694\ud558\uac8c \uc2a4\ub808\ub4dc\ub97c \uae68\uc6b0\uace0 put/get\uc744 \ubc18\ubcf5\ud558\uac8c \ub428"]}),"\n",(0,s.jsxs)(n.li,{children:["\uc7ac\uc9c4\uc785(",(0,s.jsx)(n.code,{children:"Reentrant"}),") \ub77d\uc774 \uc544\ub2d8 \u2192 ",(0,s.jsx)(n.code,{children:"ThreadLocal"}),"\ub85c \uc5b5\uc9c0 \uad6c\ud604",(0,s.jsx)(n.br,{}),"\n","\uc911\ucca9 \ud638\ucd9c\uc744 \uc9c0\uc6d0\ud558\uae30 \uc704\ud574 ",(0,s.jsx)(n.code,{children:"LockContextHolder"}),"\ub85c ",(0,s.jsx)(n.code,{children:"ThreadLocal"}),"\uc744 \ud65c\uc6a9\ud558\uc9c0\ub9cc \ud55c\uacc4\uc810 \uc874\uc7ac","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\ub204\uc218 \uc704\ud5d8 \uc788\uc74c"}),"\n",(0,s.jsx)(n.li,{children:"\uc5ec\ub7ec \ud0a4\ub97c \ub3d9\uc2dc\uc5d0 \uc7a1\ub294 \uc0c1\ud669\uc5d0\uc11c \ud655\uc7a5\uc774 \uc5b4\ub824\uc6c0"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Redisson"}),"\uc758 \uc7ac\uc9c4\uc785 \ub77d\uc5d0 \ube44\ud558\uba74 \uae30\ub2a5\uc801\uc73c\ub85c \ub9ce\uc774 \ubd80\uc871\ud568"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\ub77d \ub9cc\ub8cc(expire)\uc640 \uc2e4\uc81c unlock \ud0c0\uc774\ubc0d\uc774 \ub9de\uc9c0 \uc54a\uc744 \uc704\ud5d8",(0,s.jsx)(n.br,{}),"\n",(0,s.jsxs)("mark",{children:["\ud2b8\ub79c\uc7ad\uc158 \uae38\uc774\uac00 \uc608\uc0c1\ubcf4\ub2e4 \uae38\uc5b4\uc9c0\uba74 TTL(",(0,s.jsx)(n.code,{children:"SETNX"})," expire)\uc774 \uba3c\uc800 \ub9cc\ub8cc\ub420 \uc218 \uc788\uc74c"]})," (\ub77d \uc548\uc815\uc131\uc774 TTL\uc5d0 \ub108\ubb34 \uc758\uc874)"]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"redisson-\uae30\ubc18-\ubd84\uc0b0\ub77d\uc73c\ub85c-\uac1c\uc120\ud558\uae30",children:[(0,s.jsx)(n.code,{children:"Redisson"})," \uae30\ubc18 \ubd84\uc0b0\ub77d\uc73c\ub85c \uac1c\uc120\ud558\uae30"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Redisson"}),"\uc740 \ub2e4\uc74c \uae30\ub2a5\uc744 \uae30\ubcf8 \uc9c0\uc6d0\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Redis \uae30\ubc18 Reentrant Lock(\uc7ac\uc9c4\uc785 \uac00\ub2a5)"}),"\n",(0,s.jsx)(n.li,{children:"Pub/Sub \uae30\ubc18 \ub77d \ub300\uae30 \u2192 Spin Lock \uc81c\uac70"}),"\n",(0,s.jsx)(n.li,{children:"TTL + Watchdog \uae30\ubc18 \uc790\ub3d9 \uc5f0\uc7a5"}),"\n",(0,s.jsx)(n.li,{children:"\ubd84\uc0b0 \ud658\uacbd\uc5d0\uc11c \uc548\uc804\ud558\uac8c \ub3d9\uc791"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\ucd5c\uc885-\uac1c\uc120-\ucf54\ub4dc",children:"\ucd5c\uc885 \uac1c\uc120 \ucf54\ub4dc"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class RedissonDistributedLockService {\n\n  private final RedissonClient redissonClient;\n  private final ApplicationEventPublisher eventPublisher;\n  private final ErrorNotifier errorNotifier;\n\n  public <T> T executeWithRedissonLock(String lockKey, Supplier<T> supplier) {\n    RLock lock = null;\n\n    try {\n      lock = acquireLock(lockKey, 30, TimeUnit.SECONDS);\n\n      return supplier.get();\n\n    } catch (Exception e) {\n      errorNotifier.sendErrorMessage("error occurs in executing task in redisson lock", e);\n      throw e;\n\n    } finally {\n      // unlock\uc740 AFTER_COMPLETION\uc5d0\uc11c \uc2e4\ud589\n      if (lock != null) {\n        eventPublisher.publishEvent(RedissonUnlockEvent.of(lockKey));\n      }\n    }\n  }\n\n  private RLock acquireLock(String lockKey, long leaseTime, TimeUnit unit) {\n    RLock lock = redissonClient.getLock(lockKey);\n    lock.lock(); // leaseTime \uc9c0\uc815 X (watchdog \ub3d9\uc791)\n    // lock.lock(leaseTime, unit); // \ubb34\ud55c \ub300\uae30 + leaseTime\uc774 \uc9c0\ub098\uba74 \uac15\uc81c\ub85c \ub77d\uc774 \ud574\uc81c\ub428\n    log.info("acquired redisson lock. key={}", lockKey);\n    return lock;\n  }\n\n  @TransactionalEventListener(\n      phase = TransactionPhase.AFTER_COMPLETION,\n      fallbackExecution = true\n  )\n  public void releaseLock(RedissonUnlockEvent event) {\n    RLock lock = redissonClient.getLock(event.getLockKey());\n\n    try {\n      if (lock.isHeldByCurrentThread()) {\n        lock.unlock();\n        log.info("released redisson lock. key={}", event.getLockKey());\n      }\n    } catch (Exception e) {\n      log.error("failed to unlock redisson lock. key={}", event.getLockKey(), e);\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\uac1c\uc120-\uacb0\uacfc",children:"\uac1c\uc120 \uacb0\uacfc"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("mark",{children:"Redis \ubd80\ud558 \uac10\uc18c"})," (Polling \u2192 Pub/Sub \uae30\ubc18)",(0,s.jsx)(n.br,{}),"\n","Spin Lock \uc81c\uac70\ub85c Redis \ud2b8\ub798\ud53d\uc774 \ud06c\uac8c \uac10\uc18c"]}),"\n",(0,s.jsxs)(n.li,{children:["\ub77d \ud68d\ub4dd \ud6a8\uc728 \uc99d\uac00",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"Redisson"}),"\uc740 Redis Pub/Sub \uc744 \ud65c\uc6a9\ud574 \uc774\ubca4\ud2b8 \uae30\ubc18\uc73c\ub85c \ub77d\uc744 \uae30\ub2e4\ub9bc",(0,s.jsx)(n.br,{}),"\n","\u2192 \ub77d\uc774 \ud480\ub9b4 \ub54c\uae4c\uc9c0 \uc870\uc6a9\ud788 \ub300\uae30",(0,s.jsx)(n.br,{}),"\n","\u2192 ",(0,s.jsx)("mark",{children:"CPU \uc0ac\uc6a9\ub7c9 \uac10\uc18c"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)("mark",{children:"\uc7ac\uc9c4\uc785(Reentrant) \ub77d \ub0b4\uc7a5"})," \u2192 ",(0,s.jsx)(n.code,{children:"ThreadLocal"})," \uc81c\uac70",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"Redisson"}),"\uc758 \ub77d\uc740 \ub3d9\uc77c \uc2a4\ub808\ub4dc\uc5d0\uc11c \uc5ec\ub7ec \ubc88 \ud638\ucd9c\ud574\ub3c4 \uc790\ub3d9\uc73c\ub85c hold count \uad00\ub9ac",(0,s.jsx)(n.br,{}),"\n","\u2192 ",(0,s.jsx)(n.code,{children:"ThreadLocal"})," \uad00\ub9ac \ucf54\ub4dc \uc644\uc804\ud788 \uc81c\uac70",(0,s.jsx)(n.br,{}),"\n","\u2192 \ub77d \uc548\uc815\uc131 \uc99d\uac00",(0,s.jsx)(n.br,{}),"\n","\u2192 \uc911\ucca9 \uad6c\uc870\ub3c4 \uc27d\uac8c \ud45c\ud604 \uac00\ub2a5"]}),"\n",(0,s.jsxs)(n.li,{children:["Watchdog \uc0ac\uc6a9 \ud328\ud134(TTL\uc790\ub3d9 \uc5f0\uc7a5)\uc73c\ub85c \uc548\uc815\uc131 \uc99d\uac00",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.code,{children:"Redisson"})," lock\uc740 ",(0,s.jsx)("mark",{children:"watchdog\uc744 \ud1b5\ud574 \ub77d\uc744 \uc8fc\uae30\uc801\uc73c\ub85c \uc5f0\uc7a5"}),"\ud560 \uc218 \uc788\uc74c",(0,s.jsx)(n.br,{}),"\n","\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc774 \uae38\uc5b4\uc838\ub3c4 \ub77d\uc774 \uba3c\uc800 expire\ub418\uc9c0 \uc54a\uc544 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uc548\uc5d0 \ub77d\uc774 \uc720\uc9c0\ub428",(0,s.jsx)(n.br,{}),"\n","\u2192 \uc2a4\ub808\ub4dc\uac00 \uc0b4\uc544\uc788\ub294 \ub3d9\uc548 \ud2b8\ub79c\uc7ad\uc158 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 watchdog\uc774 \uacc4\uc18d \ub77d\uc744 \uc720\uc9c0"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ub9c8\uce58\uba70",children:"\ub9c8\uce58\uba70"}),"\n",(0,s.jsxs)(n.p,{children:["Redis\uc5d0\uc11c \uc9c1\uc811 ",(0,s.jsx)(n.code,{children:"SETNX"}),"\ub85c \ub77d\uc744 \uad6c\ud604\ud558\uace0, \uc2a4\ud540\ub77d\uc73c\ub85c \ubc18\ubcf5 \ud655\uc778\ud558\uace0, TTL\uacfc \ud2b8\ub79c\uc7ad\uc158 \ud0c0\uc774\ubc0d\uc744 \uc218\ub3d9\uc73c\ub85c \ub9de\ucd94\ub358 \ucf54\ub4dc\uc640 \ube44\uad50\ud558\uba74\n",(0,s.jsx)(n.code,{children:"Redisson"}),"\uc740 \ubd84\uc0b0\ub77d\uc744 \ud6e8\uc52c \ub354 \uc548\uc804\ud558\uace0, \uac04\uacb0\ud558\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \ub3c4\uad6c\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\uc9c1\uc811 \uad6c\ud604\ud558\ub824\uba74 \ubcf5\uc7a1\ud574\uc9c8 \ubaa8\ub4e0 \uae30\ub2a5\uc744 ",(0,s.jsx)(n.code,{children:"Redisson"}),"\uc774 \uc77c\uad00\ub41c \ubc29\uc2dd\uc73c\ub85c \uc81c\uacf5\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\uc7ac\uc9c4\uc785(Reentrant) \ub77d"}),"\n",(0,s.jsx)(n.li,{children:"Pub/Sub \uae30\ubc18 \ub300\uae30"}),"\n",(0,s.jsx)(n.li,{children:"\uc790\ub3d9 \uc5f0\uc7a5\uc744 \uc704\ud55c watchdog"}),"\n",(0,s.jsx)(n.li,{children:"Lua \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud1b5\ud55c \uc6d0\uc790\uc801 \ub77d \uad00\ub9ac"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var r=i(6540);const s={},l=r.createContext(s);function o(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(l.Provider,{value:n},e.children)}},1502:e=>{e.exports=JSON.parse('{"permalink":"/blog/redis-distributed-lock","source":"@site/blog/2025-05-01-redis-distributed-lock.mdx","title":"Redis Spin Lock\uc5d0\uc11c Redisson \uae30\ubc18 \ubd84\uc0b0\ub77d\uc73c\ub85c \uac1c\uc120\ud558\uae30","description":"\uc774\ubc88 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 Redis \uae30\ubc18\uc758 Spin Lock(SETNX + while-loop) \uad6c\uc870\ub97c Redisson \uae30\ubc18\uc758 Reentrant Distributed Lock\uc73c\ub85c \uc804\ud658\ud588\ub358 \uacbd\ud5d8\uc744 \uacf5\uc720\ud558\uace0\uc790 \ud569\ub2c8\ub2e4.","date":"2025-05-01T00:00:00.000Z","tags":[{"inline":false,"label":"Redis","permalink":"/blog/tags/redis","description":"Redis tag description"}],"readingTime":6.47,"hasTruncateMarker":true,"authors":[{"name":"Johny Cho","title":"Back End Engineer @ NHN","url":"https://github.com/johnycho","page":{"permalink":"/blog/authors/johnycho"},"socials":{"github":"https://github.com/johnycho","instagram":"https://www.instagram.com/johny__cho","linkedin":"https://www.linkedin.com/in/johny-cho/"},"imageURL":"https://github.com/johnycho.png","key":"johnycho"}],"frontMatter":{"slug":"redis-distributed-lock","title":"Redis Spin Lock\uc5d0\uc11c Redisson \uae30\ubc18 \ubd84\uc0b0\ub77d\uc73c\ub85c \uac1c\uc120\ud558\uae30","authors":["johnycho"],"tags":["redis"]},"unlisted":false,"prevItem":{"title":"Kafka Producer/Consumer TraceId \ubd88\uc77c\uce58 \ubb38\uc81c \ud574\uacb0\uae30 (with OpenTelemetry)","permalink":"/blog/redis-distributed-lock"},"nextItem":{"title":"Spring Cloud Config\uc758 \ubcf5\ud638\ud654 \uc2e4\ud328 \ucc98\ub9ac \uacfc\uc815 \u2014 {cipher}...\uac00 invalid.*\ub85c \ubc14\ub00c\ub294 \uc774\uc720","permalink":"/blog/spring-cloud-config-decrypt"}}')}}]);