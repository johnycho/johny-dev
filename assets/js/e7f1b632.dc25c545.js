"use strict";(self.webpackChunkjohnycho_dev=self.webpackChunkjohnycho_dev||[]).push([[7579],{5608:(n,e,l)=>{l.r(e),l.d(e,{assets:()=>h,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>s,toc:()=>x});var s=l(6377),c=l(4848),i=l(8453);const r={slug:"kafka-exactly-once",title:"Outbox \ud328\ud134\uc73c\ub85c Kafka Exactly-Once\uc5d0 \uac00\uae4c\uc6cc\uc9c0\uae30",authors:["johnycho"],tags:["kafka"]},d=void 0,h={authorsImageUrls:[void 0]},x=[{value:"1. \ubb38\uc81c \ubc30\uacbd",id:"1-\ubb38\uc81c-\ubc30\uacbd",level:2},{value:"DB update \u2192 Kafka produce",id:"db-update--kafka-produce",level:3},{value:"2. Outbox \ud328\ud134 \uac1c\uc694",id:"2-outbox-\ud328\ud134-\uac1c\uc694",level:2},{value:"3. \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98 \ud750\ub984",id:"3-\uc804\uccb4-\uc544\ud0a4\ud14d\ucc98-\ud750\ub984",level:2},{value:"1) Producer (Application)",id:"1-producer-application",level:3},{value:"2) Outbox Relay (\ud3f4\ub9c1 \uae30\ubc18)",id:"2-outbox-relay-\ud3f4\ub9c1-\uae30\ubc18",level:3},{value:"3) Consumer",id:"3-consumer",level:3},{value:"4. Outbox \ud14c\uc774\ube14 \uc608\uc2dc",id:"4-outbox-\ud14c\uc774\ube14-\uc608\uc2dc",level:2},{value:"5. Consumer \uba71\ub4f1 \ucc98\ub9ac \ubc29\uc2dd",id:"5-consumer-\uba71\ub4f1-\ucc98\ub9ac-\ubc29\uc2dd",level:2},{value:"6. \uc774 \uad6c\uc870\uac00 \ubcf4\uc7a5\ud558\ub294 \uc218\uc900",id:"6-\uc774-\uad6c\uc870\uac00-\ubcf4\uc7a5\ud558\ub294-\uc218\uc900",level:2},{value:"7. \uc65c \u201c\uc644\uc804\ud55c Exactly-Once\u201d\uac00 \uc544\ub2d0\uae4c?",id:"7-\uc65c-\uc644\uc804\ud55c-exactly-once\uac00-\uc544\ub2d0\uae4c",level:2},{value:"8. \uc8fc\uc758\uc0ac\ud56d",id:"8-\uc8fc\uc758\uc0ac\ud56d",level:2},{value:"\ub9c8\uce58\uba70",id:"\ub9c8\uce58\uba70",level:2}];function t(n){const e={blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsxs)(e.p,{children:["\uc774\ubc88 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 ",(0,c.jsx)(e.strong,{children:"Debezium(CDC)\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0"}),",",(0,c.jsx)(e.br,{}),"\n","Outbox \ud328\ud134\uc744 \ud65c\uc6a9\ud574 ",(0,c.jsx)(e.strong,{children:"effectively exactly-once"}),"\ub97c \ub2ec\uc131\ud558\ub294 \uad6c\uc870\ub97c \uc815\ub9ac\ud574\ubcf4\ub824\uace0 \ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(e.p,{children:["\ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c",(0,c.jsx)(e.br,{}),"\n",(0,c.jsx)(e.strong,{children:"\u201c\uba54\uc2dc\uc9c0\ub97c \uc815\ud655\ud788 \ud55c \ubc88 \ucc98\ub9ac\ud55c\ub2e4(Exactly-Once)\u201d"})," \ub294 \uc694\uad6c\uc0ac\ud56d\uc740 \ub9e4\uc6b0 \ud754\ud558\uc9c0\ub9cc,",(0,c.jsx)(e.br,{}),"\n","\uc774\ub97c ",(0,c.jsx)(e.strong,{children:"end-to-end\ub85c \uc644\ubcbd\ud558\uac8c \ubcf4\uc7a5\ud558\ub294 \uac83\uc740 \ud604\uc2e4\uc801\uc73c\ub85c \uac70\uc758 \ubd88\uac00\ub2a5"}),"\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(e.p,{children:["Kafka, DB, \uc678\ubd80 API\ub294 \uac01\uac01 \ub3c5\ub9bd\uc801\uc778 \uc2dc\uc2a4\ud15c\uc774\uba70",(0,c.jsx)(e.br,{}),"\n","\uc774\ub4e4\uc744 \ud558\ub098\uc758 \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ubb36\uc744 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.p,{children:"\uadf8\ub798\uc11c \uc2e4\ubb34\uc5d0\uc11c\ub294 \ubcf4\ud1b5 \ub2e4\uc74c\uc744 \ubaa9\ud45c\ub85c \ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsxs)(e.strong,{children:["\uc911\ubcf5\uc740 \ud5c8\uc6a9\ud558\ub418,",(0,c.jsx)(e.br,{}),"\n","\ucd5c\uc885 \ube44\uc988\ub2c8\uc2a4 \uacb0\uacfc(effect)\ub294 \uc815\ud655\ud788 \ud55c \ubc88\ub9cc \ubc18\uc601\ub418\ub3c4\ub85d \uc124\uacc4\ud55c\ub2e4."]})}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"1-\ubb38\uc81c-\ubc30\uacbd",children:"1. \ubb38\uc81c \ubc30\uacbd"}),"\n",(0,c.jsx)(e.h3,{id:"db-update--kafka-produce",children:"DB update \u2192 Kafka produce"}),"\n",(0,c.jsx)(e.p,{children:"\uc774 \uad6c\uc870\uc5d0\uc11c\ub294 \ub2e4\uc74c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"DB\ub294 \ubc18\uc601\ub410\uc9c0\ub9cc Kafka \ubc1c\ud589 \uc2e4\ud328 \u2192 \uc774\ubca4\ud2b8 \uc720\uc2e4"}),"\n",(0,c.jsx)(e.li,{children:"Kafka\ub294 \ubc1c\ud589\ub410\uc9c0\ub9cc DB \ud2b8\ub79c\uc7ad\uc158 \ub864\ubc31 \u2192 \uc798\ubabb\ub41c \uc774\ubca4\ud2b8 \uc804\ud30c"}),"\n",(0,c.jsx)(e.li,{children:"\ub124\ud2b8\uc6cc\ud06c \uc7a5\uc560\ub85c \uc131\uacf5/\uc2e4\ud328 \uc5ec\ubd80\ub97c \uc54c \uc218 \uc5c6\uc74c"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\u27a1\ufe0f ",(0,c.jsx)(e.strong,{children:"DB\uc640 Kafka \uc0ac\uc774\uc758 \uc815\ud569\uc131\uc774 \uae68\uc9d0"})]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"2-outbox-\ud328\ud134-\uac1c\uc694",children:"2. Outbox \ud328\ud134 \uac1c\uc694"}),"\n",(0,c.jsx)(e.p,{children:"Outbox \ud328\ud134\uc758 \ud575\uc2ec \uc544\uc774\ub514\uc5b4\ub294 \ub2e8\uc21c\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\uc774\ubca4\ud2b8 \ubc1c\ud589\uc744 DB \ud2b8\ub79c\uc7ad\uc158\uc758 \uc77c\ubd80\ub85c \ub9cc\ub4e0\ub2e4."})}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\uc989,"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\ube44\uc988\ub2c8\uc2a4 \ub370\uc774\ud130 \ubcc0\uacbd"}),"\n",(0,c.jsx)(e.li,{children:"\ubc1c\ud589\ud560 \uc774\ubca4\ud2b8 \uae30\ub85d"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\uc744 ",(0,c.jsx)(e.strong,{children:"\uac19\uc740 \ud2b8\ub79c\uc7ad\uc158 \uc548\uc5d0\uc11c \ucc98\ub9ac"}),"\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.p,{children:"Kafka \ubc1c\ud589\uc740 \uc774\ud6c4 **\ube44\ub3d9\uae30 Relay(\ubc30\uce58/\uc2a4\ucf00\uc904\ub7ec)**\uac00 \ub2f4\ub2f9\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"3-\uc804\uccb4-\uc544\ud0a4\ud14d\ucc98-\ud750\ub984",children:"3. \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98 \ud750\ub984"}),"\n",(0,c.jsx)(e.h3,{id:"1-producer-application",children:"1) Producer (Application)"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc218\ud589"}),"\n",(0,c.jsx)(e.li,{children:"Outbox \ud14c\uc774\ube14\uc5d0 \uc774\ubca4\ud2b8 INSERT"}),"\n",(0,c.jsx)(e.li,{children:"\ud558\ub098\uc758 DB \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ucee4\ubc0b"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\uc774 \ub2e8\uacc4\uc5d0\uc11c:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Kafka \uc7a5\uc560\uc640 \ubb34\uad00\ud558\uac8c \uc774\ubca4\ud2b8\ub294 DB\uc5d0 \uc548\uc804\ud558\uac8c \uc800\uc7a5\ub41c\ub2e4"}),"\n",(0,c.jsx)(e.li,{children:"\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc7a5\uc560\uac00 \ubc1c\uc0dd\ud574\ub3c4 \uc774\ubca4\ud2b8 \uc720\uc2e4\uc740 \uc5c6\ub2e4"}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"2-outbox-relay-\ud3f4\ub9c1-\uae30\ubc18",children:"2) Outbox Relay (\ud3f4\ub9c1 \uae30\ubc18)"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["Outbox \ud14c\uc774\ube14\uc5d0\uc11c ",(0,c.jsx)(e.code,{children:"PENDING"})," \uc0c1\ud0dc \uc774\ubca4\ud2b8 \uc870\ud68c"]}),"\n",(0,c.jsx)(e.li,{children:"Kafka\ub85c \uba54\uc2dc\uc9c0 \ubc1c\ud589"}),"\n",(0,c.jsxs)(e.li,{children:["\uc131\uacf5 \uc2dc ",(0,c.jsx)(e.code,{children:"SENT"})," \uc0c1\ud0dc\ub85c \ubcc0\uacbd"]}),"\n",(0,c.jsx)(e.li,{children:"\uc2e4\ud328 \uc2dc \uc7ac\uc2dc\ub3c4"}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\uc774 \uacfc\uc815\uc5d0\uc11c:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958, Kafka \uc7a5\uc560\ub85c \ubc1c\ud589 \uc2e4\ud328 \uac00\ub2a5"}),"\n",(0,c.jsxs)(e.li,{children:["\ud0c0\uc784\uc544\uc6c3\uc73c\ub85c \uc778\ud55c ",(0,c.jsx)(e.strong,{children:"\uc911\ubcf5 \ubc1c\ud589 \uac00\ub2a5\uc131 \uc874\uc7ac"})]}),"\n",(0,c.jsxs)(e.li,{children:["\ub300\uc2e0 ",(0,c.jsx)("mark",{children:(0,c.jsx)(e.strong,{children:"\ucd5c\uc18c \ud55c \ubc88(at-least-once) \ubc1c\ud589\uc740 \ubcf4\uc7a5"})})]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h3,{id:"3-consumer",children:"3) Consumer"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Kafka \uba54\uc2dc\uc9c0 \uc18c\ube44"}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"eventId"})," \uae30\uc900\uc73c\ub85c \uc774\ubbf8 \ucc98\ub9ac\ub41c \uc774\ubca4\ud2b8\uc778\uc9c0 \ud655\uc778"]}),"\n",(0,c.jsx)(e.li,{children:"\ucc98\uc74c \ucc98\ub9ac\ud558\ub294 \uc774\ubca4\ud2b8\ub9cc \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc218\ud589"}),"\n",(0,c.jsx)(e.li,{children:"\ucc98\ub9ac \uc774\ub825 DB\uc5d0 \uae30\ub85d"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\uba54\uc2dc\uc9c0\ub294 \uc911\ubcf5 \uc18c\ube44\ub420 \uc218 \uc788\uc9c0\ub9cc,",(0,c.jsx)(e.br,{}),"\n","DB \uba71\ub4f1 \ucc98\ub9ac\ub85c ",(0,c.jsx)(e.strong,{children:"\ube44\uc988\ub2c8\uc2a4 \uacb0\uacfc\ub294 \uc815\ud655\ud788 \ud55c \ubc88\ub9cc \ubc18\uc601"}),"\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"4-outbox-\ud14c\uc774\ube14-\uc608\uc2dc",children:"4. Outbox \ud14c\uc774\ube14 \uc608\uc2dc"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"id"})," (PK)"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"event_id"})," (\uc804\uc5ed \uc720\uc77c)"]}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.code,{children:"payload"})}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"status"})," (",(0,c.jsx)(e.code,{children:"PENDING"}),", ",(0,c.jsx)(e.code,{children:"SENT"}),")"]}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.code,{children:"created_at"})}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\uc2e4\ubb34\uc5d0\uc11c\ub294 Outbox row\ub97c \uc989\uc2dc DELETE\ud558\uae30\ubcf4\ub2e4",(0,c.jsx)(e.br,{}),"\n",(0,c.jsx)(e.code,{children:"SENT"})," \uc0c1\ud0dc\ub85c \ub0a8\uae34 \ub4a4 TTL \ub610\ub294 \ubc30\uce58\ub85c \uc815\ub9ac\ud558\ub294 \ubc29\uc2dd\uc774 \ub354 \uc548\uc804\ud569\ub2c8\ub2e4.",(0,c.jsx)(e.br,{}),"\n","(\uac10\uc0ac \ub85c\uadf8, \uc7ac\ucc98\ub9ac, \ub9ac\ud50c\ub808\uc774 \ub300\uc751)"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"5-consumer-\uba71\ub4f1-\ucc98\ub9ac-\ubc29\uc2dd",children:"5. Consumer \uba71\ub4f1 \ucc98\ub9ac \ubc29\uc2dd"}),"\n",(0,c.jsxs)(e.p,{children:["Consumer\ub294 \ubc18\ub4dc\uc2dc ",(0,c.jsx)(e.strong,{children:"\uc911\ubcf5 \ucc98\ub9ac\ub97c \ubc29\uc9c0"}),"\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.p,{children:"\ub300\ud45c\uc801\uc778 \ubc29\ubc95:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"processed_event"})," \ud14c\uc774\ube14\uc5d0 ",(0,c.jsx)(e.code,{children:"event_id"}),"\ub97c PK\ub85c \uc800\uc7a5"]}),"\n",(0,c.jsxs)(e.li,{children:["\ub610\ub294 \ube44\uc988\ub2c8\uc2a4 \ud14c\uc774\ube14\uc5d0 ",(0,c.jsx)(e.code,{children:"event_id UNIQUE"})," \uc81c\uc57d \ucd94\uac00"]}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"\uc774\ub807\uac8c \ud558\uba74:"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\ub3d9\uc77c \uba54\uc2dc\uc9c0\uac00 \uc5ec\ub7ec \ubc88 \uc640\ub3c4"}),"\n",(0,c.jsxs)(e.li,{children:["DB \ubc18\uc601\uc740 ",(0,c.jsx)(e.strong,{children:"\ub2e8 \ud55c \ubc88\ub9cc \ubc1c\uc0dd"})]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"6-\uc774-\uad6c\uc870\uac00-\ubcf4\uc7a5\ud558\ub294-\uc218\uc900",children:"6. \uc774 \uad6c\uc870\uac00 \ubcf4\uc7a5\ud558\ub294 \uc218\uc900"}),"\n",(0,c.jsxs)(e.table,{children:[(0,c.jsx)(e.thead,{children:(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.th,{children:"\uad6c\uac04"}),(0,c.jsx)(e.th,{children:"\ubcf4\uc7a5 \uc218\uc900"})]})}),(0,c.jsxs)(e.tbody,{children:[(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"DB \u2192 Outbox"}),(0,c.jsx)(e.td,{children:"Exactly-once"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Outbox \u2192 Kafka"}),(0,c.jsx)(e.td,{children:"At-least-once"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"Kafka \u2192 Consumer"}),(0,c.jsx)(e.td,{children:"At-least-once"})]}),(0,c.jsxs)(e.tr,{children:[(0,c.jsx)(e.td,{children:"\ucd5c\uc885 \ube44\uc988\ub2c8\uc2a4 \uacb0\uacfc"}),(0,c.jsx)(e.td,{children:"Effectively exactly-once"})]})]})]}),"\n",(0,c.jsx)(e.p,{children:"\uc989,"}),"\n",(0,c.jsxs)(e.blockquote,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsxs)(e.strong,{children:["\uc804\ub2ec\uc740 \ucd5c\uc18c \ud55c \ubc88,",(0,c.jsx)(e.br,{}),"\n","\uacb0\uacfc\ub294 \uc815\ud655\ud788 \ud55c \ubc88"]})}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"7-\uc65c-\uc644\uc804\ud55c-exactly-once\uac00-\uc544\ub2d0\uae4c",children:"7. \uc65c \u201c\uc644\uc804\ud55c Exactly-Once\u201d\uac00 \uc544\ub2d0\uae4c?"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Kafka \ubc1c\ud589\uc740 \uc911\ubcf5\ub420 \uc218 \uc788\ub2e4"}),"\n",(0,c.jsx)(e.li,{children:"Consumer\ub294 \uc7ac\ucc98\ub9ac\ub420 \uc218 \uc788\ub2e4"}),"\n",(0,c.jsx)(e.li,{children:"\ub124\ud2b8\uc6cc\ud06c \uc7a5\uc560\ub85c \uc131\uacf5 \uc5ec\ubd80\ub97c \ud655\uc815\ud560 \uc218 \uc5c6\ub2e4"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\ub530\ub77c\uc11c \ubb3c\ub9ac\uc801\uc778 \uc758\ubbf8\uc758 ",(0,c.jsx)(e.code,{children:"Exactly-once"}),"\ub294 \uc544\ub2d9\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.p,{children:"\ud558\uc9c0\ub9cc,"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.code,{children:"eventId"})," \uae30\ubc18 \uba71\ub4f1 \ucc98\ub9ac"]}),"\n",(0,c.jsx)(e.li,{children:"\uc720\ub2c8\ud06c \uc81c\uc57d"}),"\n",(0,c.jsx)(e.li,{children:"\ucc98\ub9ac \uc774\ub825 \uad00\ub9ac"}),"\n"]}),"\n",(0,c.jsxs)(e.p,{children:["\ub97c \ud1b5\ud574 ",(0,c.jsxs)(e.strong,{children:["\ube44\uc988\ub2c8\uc2a4 \uad00\uc810\uc5d0\uc11c\ub294 ",(0,c.jsx)(e.code,{children:"Exactly-once"}),"\uc640 \ub3d9\uc77c\ud55c \ud6a8\uacfc"]}),"\ub97c \uc5bb\uac8c\ub429\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"8-\uc8fc\uc758\uc0ac\ud56d",children:"8. \uc8fc\uc758\uc0ac\ud56d"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsxs)(e.strong,{children:[(0,c.jsx)(e.code,{children:"eventId"})," \uc124\uacc4\uac00 \uac00\uc7a5 \uc911\uc694"]})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\uc7ac\uc2dc\ub3c4/\uc7ac\ubc1c\ud589\uc5d0\ub3c4 \ub3d9\uc77c\ud574\uc57c \ud568"}),"\n",(0,c.jsx)(e.li,{children:"\uc804\uc5ed \uc720\uc77c\uc131 \ud544\uc218"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\uc911\ubcf5 \ubc1c\ud589\uc740 \uc815\uc0c1 \ub3d9\uc791"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Consumer \uba71\ub4f1 \ucc98\ub9ac\ub294 \uc120\ud0dd\uc774 \uc544\ub2c8\ub77c \ud544\uc218"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["\n",(0,c.jsx)(e.p,{children:(0,c.jsx)(e.strong,{children:"\uc678\ubd80 API \ud3ec\ud568 \uc2dc"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"Idempotency-Key \uc9c0\uc6d0 \uc5ec\ubd80\uac00 \ud575\uc2ec"}),"\n",(0,c.jsx)(e.li,{children:"\uc5c6\uc73c\uba74 \ud638\ucd9c \ub85c\uadf8 + \uc7ac\uc2dc\ub3c4/\ubcf4\uc0c1 \ud2b8\ub79c\uc7ad\uc158 \ud544\uc694"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.hr,{}),"\n",(0,c.jsx)(e.h2,{id:"\ub9c8\uce58\uba70",children:"\ub9c8\uce58\uba70"}),"\n",(0,c.jsxs)(e.p,{children:["\ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c\n\ubb3c\ub9ac\uc801\uc73c\ub85c \uc815\ud655\ud55c ",(0,c.jsx)(e.code,{children:"Exactly-once"}),"\ub97c end-to-end\ub85c \ubcf4\uc7a5\ud558\ub294 \uac83\uc740 \ud604\uc2e4\uc801\uc73c\ub85c \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(e.p,{children:["\ub300\uc2e0 \uc2e4\ubb34\uc5d0\uc11c\ub294\n\uc774\ubca4\ud2b8 \ubc1c\ud589 \uacfc\uc815\uc5d0\uc11c\uc758 \uc720\uc2e4\uc744 \ub9c9\uace0,\n",(0,c.jsx)("mark",{children:"\uc911\ubcf5 \uc804\ub2ec\uc740 \ud5c8\uc6a9"}),"\ud558\ub418 ",(0,c.jsx)("mark",{children:"\ube44\uc988\ub2c8\uc2a4 \uacb0\uacfc\ub294 \ud55c \ubc88\ub9cc \ubc18\uc601"}),"\ub418\ub3c4\ub85d \uc124\uacc4\ud558\ub294 \uac83\uc774 \ub354 \uc911\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(e.p,{children:["\uc774\ub97c \uc704\ud574\nOutbox \ud328\ud134\uc73c\ub85c \uc774\ubca4\ud2b8 \ubc1c\ud589\uc744 \ucd5c\uc18c \ud55c \ubc88 \ubcf4\uc7a5\ud558\uace0,\nConsumer\uc5d0\uc11c ",(0,c.jsx)(e.code,{children:"eventId"})," \uae30\ubc18 \uba71\ub4f1 \ucc98\ub9ac\ub97c \uc801\uc6a9\ud568\uc73c\ub85c\uc368\nend-to-end\ub85c\ub294 \uacb0\uacfc\uac00 \uc815\ud655\ud788 \ud55c \ubc88\ub9cc \ubc18\uc601\ub418\ub3c4\ub85d \uc124\uacc4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(e.p,{children:[(0,c.jsx)(e.code,{children:"Exactly-once"}),"\ub294 \uc124\uc815\uc758 \ubb38\uc81c\uac00 \uc544\ub2c8\ub77c,\n\uc5b4\ub514\uc5d0\uc11c \uc911\ubcf5\uc744 \ud5c8\uc6a9\ud558\uace0 \uc5b4\ub514\uc5d0\uc11c \ub9c9\uc744 \uac83\uc778\uc9c0\uc5d0 \ub300\ud55c \uc124\uacc4\uc758 \ubb38\uc81c\uc785\ub2c8\ub2e4."]})]})}function o(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(t,{...n})}):t(n)}},8453:(n,e,l)=>{l.d(e,{R:()=>r,x:()=>d});var s=l(6540);const c={},i=s.createContext(c);function r(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:r(n.components),s.createElement(i.Provider,{value:e},n.children)}},6377:n=>{n.exports=JSON.parse('{"permalink":"/blog/kafka-exactly-once","source":"@site/blog/2025-07-02-kafka-exactly-once.mdx","title":"Outbox \ud328\ud134\uc73c\ub85c Kafka Exactly-Once\uc5d0 \uac00\uae4c\uc6cc\uc9c0\uae30","description":"\uc774\ubc88 \ud3ec\uc2a4\ud2b8\uc5d0\uc11c\ub294 Debezium(CDC)\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0,","date":"2025-07-02T00:00:00.000Z","tags":[{"inline":false,"label":"Kafka","permalink":"/blog/tags/kafka","description":"Kafka tag description"}],"readingTime":6.55,"hasTruncateMarker":true,"authors":[{"name":"Johny Cho","title":"Back End Engineer @ NHN","url":"https://github.com/johnycho","page":{"permalink":"/blog/authors/johnycho"},"socials":{"github":"https://github.com/johnycho","instagram":"https://www.instagram.com/johny__cho","linkedin":"https://www.linkedin.com/in/johny-cho/"},"imageURL":"https://github.com/johnycho.png","key":"johnycho"}],"frontMatter":{"slug":"kafka-exactly-once","title":"Outbox \ud328\ud134\uc73c\ub85c Kafka Exactly-Once\uc5d0 \uac00\uae4c\uc6cc\uc9c0\uae30","authors":["johnycho"],"tags":["kafka"]},"unlisted":false,"nextItem":{"title":"Kafka \uba54\uc2dc\uc9c0 \uc804\ub2ec \ubcf4\uc7a5 (Delivery Semantics)","permalink":"/blog/kafka-delivery-semantics"}}')}}]);