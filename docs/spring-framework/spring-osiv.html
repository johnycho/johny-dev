<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-spring-framework/spring-osiv" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">OSIV(Open Session In View) 옵션 | 조니의 개발 블로그</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://johnycho.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://johnycho.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://johnycho.dev/docs/spring-framework/spring-osiv"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="naver-site-verification" content="a65c47dcb20d7111ecf322e7def1006c7e83100d"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OSIV(Open Session In View) 옵션 | 조니의 개발 블로그"><meta data-rh="true" name="description" content="OSIV(open session in view) 는 영속성 컨텍스트를 뷰까지 열어 둔다는 의미입니다. 영속성 컨텍스트가 살아있으면 엔티티는 영속 상태로 유지될 수 있어, 뷰에서도 지연 로딩을 사용할 수 있어요. OSIV의 핵심은 뷰에서도 지연 로딩이 가능하도록 하는 것입니다. 가장 단순한 구현은 클라이언트 요청이 들어올때 필터나 인터셉터에서 트랜잭션을 시작하는 방법인데요. 이를 트랜잭션 방식 OSIV라고 합니다. 하지만, 트랜잭션 방식 OSIV는 표현 계층에서도 엔티티를 수정할 수 있기 때문에 유지보수하기 어려운 코드를 만들 수 있습니다."><meta data-rh="true" property="og:description" content="OSIV(open session in view) 는 영속성 컨텍스트를 뷰까지 열어 둔다는 의미입니다. 영속성 컨텍스트가 살아있으면 엔티티는 영속 상태로 유지될 수 있어, 뷰에서도 지연 로딩을 사용할 수 있어요. OSIV의 핵심은 뷰에서도 지연 로딩이 가능하도록 하는 것입니다. 가장 단순한 구현은 클라이언트 요청이 들어올때 필터나 인터셉터에서 트랜잭션을 시작하는 방법인데요. 이를 트랜잭션 방식 OSIV라고 합니다. 하지만, 트랜잭션 방식 OSIV는 표현 계층에서도 엔티티를 수정할 수 있기 때문에 유지보수하기 어려운 코드를 만들 수 있습니다."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://johnycho.dev/docs/spring-framework/spring-osiv"><link data-rh="true" rel="alternate" href="https://johnycho.dev/docs/spring-framework/spring-osiv" hreflang="ko"><link data-rh="true" rel="alternate" href="https://johnycho.dev/docs/spring-framework/spring-osiv" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://NAZXBH587R-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="조니의 개발 블로그 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="조니의 개발 블로그 Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="조니의 개발 블로그" href="/opensearch.xml">
<script src="https://johny-dev.disqus.com/count.js" async id="dsq-count-scr"></script><link rel="stylesheet" href="/assets/css/styles.70dfe971.css">
<script src="/assets/js/runtime~main.3afe5a55.js" defer="defer"></script>
<script src="/assets/js/main.573bfed9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://github.com/johnycho.png"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://github.com/johnycho.png" alt="Johny Dev Logo" class="custom-navbar-logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://github.com/johnycho.png" alt="Johny Dev Logo" class="custom-navbar-logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">조니의 개발 블로그</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/intro">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/intro">All Docs</a></li><li><a class="dropdown__link" href="/docs/tags">Tags</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/blog">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog">All Posts</a></li><li><a class="dropdown__link" href="/blog/archive">Archive</a></li><li><a class="dropdown__link" href="/blog/tags">Tags</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/johnycho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-logo"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 어두운 모드)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="검색 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">검색</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">📝 기록하고 기억하자 💪🏻</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/computer-science">Computer Science</a><button aria-label="사이드바 분류 &#x27;Computer Science&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/java">Java</a><button aria-label="사이드바 분류 &#x27;Java&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/spring-framework">Spring Framework</a><button aria-label="사이드바 분류 &#x27;Spring Framework&#x27; 접기" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-actuator-micrometer">Spring Boot Actuator와 Micrometer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-bean-annotations">Spring Bean 어노테이션</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-bean-management">Spring에서 객체를 Bean으로 관리하는 이유</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-dependency-injection">의존성 주입 (Dependency Injection)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-exception-handler">@ExceptionHandler 어노테이션</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/spring-framework/spring-osiv">OSIV(Open Session In View) 옵션</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-private-transactional">private 메서드에 @Transactional 선언하면 트랜잭션이 동작할까?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-response-annotation">@ResponseBody와 ResponseEntity&lt;T&gt;</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-test-isolation">테스트 격리 (Test Isolation)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-transaction-propagation">Spring 트랜잭션 전파 (Transaction Propagation)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-transaction-rollback">Spring 예외 종류에 따른 트랜잭션 롤백</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-transactional-aop">@Transactional 어노테이션 AOP 동작 흐름</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spring-framework/spring-value-annotation">@Value 어노테이션</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/spring-data-jpa">Spring Data JPA</a><button aria-label="사이드바 분류 &#x27;Spring Data JPA&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/database">Database</a><button aria-label="사이드바 분류 &#x27;Database&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="사이드바 숨기기" aria-label="사이드바 숨기기" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="탐색 경로"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/spring-framework"><span itemprop="name">Spring Framework</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OSIV(Open Session In View) 옵션</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>OSIV(Open Session In View) 옵션</h1></header><p><strong>OSIV(open session in view)</strong> 는 영속성 컨텍스트를 뷰까지 열어 둔다는 의미입니다. 영속성 컨텍스트가 살아있으면 엔티티는 영속 상태로 유지될 수 있어, 뷰에서도 지연 로딩을 사용할 수 있어요. <code>OSIV</code>의 핵심은 뷰에서도 지연 로딩이 가능하도록 하는 것입니다. 가장 단순한 구현은 클라이언트 요청이 들어올때 필터나 인터셉터에서 트랜잭션을 시작하는 방법인데요. 이를 트랜잭션 방식 <code>OSIV</code>라고 합니다. 하지만, 트랜잭션 방식 <code>OSIV</code>는 표현 계층에서도 엔티티를 수정할 수 있기 때문에 유지보수하기 어려운 코드를 만들 수 있습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-트랜잭션-방식의-osiv의-문제-해결-방법">✔️ 트랜잭션 방식의 <code>OSIV</code>의 문제 해결 방법<a href="#️-트랜잭션-방식의-osiv의-문제-해결-방법" class="hash-link" aria-label="️-트랜잭션-방식의-osiv의-문제-해결-방법에 대한 직접 링크" title="️-트랜잭션-방식의-osiv의-문제-해결-방법에 대한 직접 링크">​</a></h2>
<p><mark><strong>최신 방식의 <code>OSIV</code>는 트랜잭션 방식의 문제를 해결</strong></mark>합니다. 스프링 <code>OSIV</code>는 <code>OSIV</code>를 사용하면서 <mark><strong>트랜잭션은 비즈니스 계층에서만 사용</strong></mark>합니다. <mark><strong>표현 계층에서는 트랜잭션이 없기 때문에 수정이 불가능</strong></mark>합니다. 하지만, 표현 계층에서 트랜잭션 없는 읽기를 이용해 지연 로딩은 가능합니다. 동작 원리는 다음과 같습니다.</p>
<ul>
<li>클라이언트의 요청이 들어오면 <mark><strong>서블릿 필터나 스프링 인터셉터에서 영속성 컨텍스트를 생성</strong></mark>합니다.</li>
<li>응용 계층에서 <code>@Transactional</code>로 트랜잭션을 시작할 때 미리 생성한 영속성 컨텍스트를 찾아와서 트랜잭션을 시작합니다.</li>
<li><mark><strong>응용 계층이 끝나면 트랜잭션을 커밋하고 영속성 컨텍스트를 플러시</strong></mark>합니다. (영속성 컨텍스트는 종료하지 않습니다.)</li>
<li>컨트롤러와 뷰까지 영속성 컨텍스트가 유지되므로 조회한 엔티티는 영속 상태를 유지할 수 있습니다.</li>
<li>
<mark><strong>필터, 인터셉터로 요청이 돌아오면 영속성 컨텍스트를 종료하는데 이때 플러시는 수행하지 않습니다.</strong></mark>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-스프링-방식의-osiv의-문제점">✔️ 스프링 방식의 <code>OSIV</code>의 문제점<a href="#️-스프링-방식의-osiv의-문제점" class="hash-link" aria-label="️-스프링-방식의-osiv의-문제점에 대한 직접 링크" title="️-스프링-방식의-osiv의-문제점에 대한 직접 링크">​</a></h2>
<ul>
<li>표현 계층에서 엔티티를 수정하면 데이터베이스에 반영하지 않습니다. 하지만, 엔티티를 수정한 이후 트랜잭션을 시작하는 응용 계층을 시작한 경우 문제가 발생합니다. 응용 계층 트랜잭션이 끝나고 영속성 컨텍스트를 플러시하는 과정에서 변경 감지가 동작할 수 있습니다.</li>
</ul>
<blockquote>
<p>OSIV는 요청-응답 전 과정을 하나의 영속성 컨텍스트로 유지 → 표현 계층의 코드도 영속 상태 엔티티에 접근 가능.<br>
<!-- -->JPA 변경 감지는 트랜잭션 시작 시점이 아니라 커밋 시점에 동작.<br>
<!-- -->표현 계층에서의 변경이 “응용 계층 트랜잭션” 안에서 flush 타이밍에 함께 반영되어 버림.<br>
<!-- -->이게 <mark><strong>개발자가 의도하지 않은 데이터 변경</strong></mark>으로 이어질 수 있음.</p>
</blockquote>
<ul>
<li><code>OSIV</code> 기능을 사용하면 <mark><strong>상대적으로 오래 DB 커넥션을 점유</strong></mark>하기 때문에 커넥션 고갈로 이어질 수 있습니다.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-osiv-기능-비활성화">✔️ <code>OSIV</code> 기능 비활성화<a href="#️-osiv-기능-비활성화" class="hash-link" aria-label="️-osiv-기능-비활성화에 대한 직접 링크" title="️-osiv-기능-비활성화에 대한 직접 링크">​</a></h2>
<p><code>OSIV</code> 기능이 활성화되어 있는 경우에는 <mark><strong>트랜잭션의 범위를 벗어나도 커넥션을 계속 유지</strong></mark>해요. 만약 <mark><strong>트래픽을 많이 받는 상황이라면, 커넥션 고갈</strong></mark>로 이어질 수 있습니다. <code>OSIV</code> 기능을 비활성화하여 데이터베이스 커넥션을 효율적으로 사용할 수 있습니다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="그러면-무조건-osiv-기능을-비활성화해야-할까">그러면 무조건 OSIV 기능을 비활성화해야 할까?<a href="#그러면-무조건-osiv-기능을-비활성화해야-할까" class="hash-link" aria-label="그러면 무조건 OSIV 기능을 비활성화해야 할까?에 대한 직접 링크" title="그러면 무조건 OSIV 기능을 비활성화해야 할까?에 대한 직접 링크">​</a></h3>
<p>무조건 비활성화하기 보다는 꺼야하는 근거가 필요합니다. 만약 트랜잭션 범위 밖에서 지연로딩을 반드시 수행해야하는 경우에는 활성화해야 합니다.</p>
<p>데이터베이스를 복제하여 사용하는 경우, 데이터 소스도 분리해야 하는데, <code>OSIV</code> 기능으로 인해 예기치 않은 데이터베이스로 요청이 전달될 수 있습니다.<br>
<!-- -->그리고, 대량의 트래픽이 발생하는 경우처럼 데이터베이스 커넥션을 효율적으로 사용해야할 수도 있습니다. 위와 같은 경우에는 <code>OSIV</code> 비활성화를 고려해볼 수 있습니다.</p><div>Loading comments...</div> </div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Spring Framework tag description" class="tag_zVej tagRegular_sFm0" href="/docs/tags/spring">Spring</a></li><li class="tag_QGVx"><a title="JPA tag description" class="tag_zVej tagRegular_sFm0" href="/docs/tags/jpa">JPA</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/spring-framework/spring-exception-handler"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">@ExceptionHandler 어노테이션</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/spring-framework/spring-private-transactional"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">private 메서드에 @Transactional 선언하면 트랜잭션이 동작할까?</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#️-트랜잭션-방식의-osiv의-문제-해결-방법" class="table-of-contents__link toc-highlight">✔️ 트랜잭션 방식의 <code>OSIV</code>의 문제 해결 방법</a></li><li><a href="#️-스프링-방식의-osiv의-문제점" class="table-of-contents__link toc-highlight">✔️ 스프링 방식의 <code>OSIV</code>의 문제점</a></li><li><a href="#️-osiv-기능-비활성화" class="table-of-contents__link toc-highlight">✔️ <code>OSIV</code> 기능 비활성화</a><ul><li><a href="#그러면-무조건-osiv-기능을-비활성화해야-할까" class="table-of-contents__link toc-highlight">그러면 무조건 OSIV 기능을 비활성화해야 할까?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Johny Cho. All rights reserved.</div></div></div></footer></div>
</body>
</html>